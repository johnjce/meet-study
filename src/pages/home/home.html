<ion-header>
    <ion-navbar>
        <button ion-button [menuToggle]="activeMenu">
            <ion-icon name="menu"></ion-icon>
        </button>
        <ion-title>
            Inicio
        </ion-title>
    </ion-navbar>

</ion-header>

<ion-content padding>
    <ion-item id="selectableSubject" >
        <ion-label>Seleccione asignatura</ion-label>
        <ionic-selectable item-content [(ngModel)]="subject" [items]="subjects" itemValueField="nombre"
            itemTextField="nombre" [canSearch]="true" (onSearch)="filterSearch($event)"
            (onChange)="filterAdvertisements()" [canClear]="true" (onClear)="onClear()">
        </ionic-selectable>
    </ion-item>
    <div id="valorationFields">
        <ion-label id="valorationLabel">Valoración mayor que: </ion-label>
        <ion-input id="valorationInput" [(ngModel)]="valoracion" placeholder="Valoración" type="number"></ion-input>
        <button ion-button id="valorationButton" (click)="filterAdvertisements()">Buscar</button>
    </div>
    <ion-list>
            <ion-card *ngFor="let anuncio of anuncios">
                <ion-card-content>
                    <ion-card-title>
                        Asignatura a estudiar: {{anuncio.primarySubject}}
                    </ion-card-title>
                    <p *ngIf="anuncio.secondarySubject">Asignatura conocida: {{anuncio.secondarySubject}}</p>
                    <p> Nombre: {{anuncio.name}}</p>
                    <p> Hora: {{anuncio.time}}</p>
                    <p > Valoracion: {{anuncio.valoration}}<ion-icon class="star" *ngIf="anuncio.secondarySubject != Sin valoracion" ios="ios-star" md="md-star"></ion-icon></p>
                    <button ion-button icon-only clear (click)="sendPetition(anuncio)">
                        <ion-icon name="checkmark-circle-outline"></ion-icon>
                        <p>Enviar Solicitud</p>
                    </button>
                    <button ion-button icon-only clear (click)="addFavorite(anuncio)">
                        <ion-icon class="starButton" name="md-star"></ion-icon>
                        <p>Agregar a favoritos</p>
                    </button>
                </ion-card-content>
            </ion-card>
    </ion-list>
</ion-content>